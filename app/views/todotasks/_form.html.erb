<%= form_with(model:@todotask, local:true) do |f| %>
  <% if @todotask.errors.any? %>
    <% @todotask.errors.full_messages.each do |msg| %>
      <%= msg %>
    <% end %>
  <% end %>

  <%= f.label :name, class:"mt-4 label-control" %>
  <%= f.text_field :name, class:"form-control" %>

  <%= f.label :content, class:"mt-4" %>
  <%= f.text_area :content, class:"form-control" %>

  <%= f.label :status, class:"mt-4" %>
  <%= f.select :status,[["未着手",1], ["着手", 2], ["完了", 3]], {}, class:"form-control" %>

  <%= f.label :deadline, class:"mt-4" %><br />
  <%= f.date_select :deadline, { default:Date.new(2020,1,1) }, class:"form-control d-inline-block col-md-2 col-xs-2" %>
  <br />
  <%= f.label :priority, class:"mt-4" %>
  <%= f.select :priority,[["高", 1], ["中", 2], ["低", 3]], {}, class:"form-control" %>

  <%= f.label :label_ids, t('view.todotasks.label'), class:"mt-4" %><br />
  <% @labels.each do |label| %>
    <%= f.check_box :label_ids, { multiple:true, checked: label[:checked], disabled: label[:disabled], include_hidden: false }, label[:id] %>
    <%= label.name %>
  <% end %>

  <br />
  <br />
  <%= f.fields_for :taskfiles do |s| %>
    <%= s.label :uploadfiles %>
    <%= s.file_field :uploadfiles %>
    <br />
  <% end %>

  <br />
  <%= f.submit class:"mt-4 btn btn-primary" %>
<% end %>
