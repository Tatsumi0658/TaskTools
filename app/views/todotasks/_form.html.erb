<%= form_with(model:@todotask, local:true) do |f| %>
  <% if @todotask.errors.any? %>
    <% @todotask.errors.full_messages.each do |msg| %>
      <%= msg %>
    <% end %>
  <% end %>

  <%= f.label :name, class:"mt-4 label-control" %>
  <%= f.text_field :name, class:"form-control" %>

  <%= f.label :content, class:"mt-4" %>
  <%= f.text_area :content, class:"form-control" %>

  <%= f.label :status, class:"mt-4" %>
  <%= f.select :status,[["未着手",1], ["着手", 2], ["完了", 3]], {}, class:"form-control" %>

  <%= f.label :deadline, class:"mt-4" %><br />
  <%= f.date_select :deadline, { default:Date.new(2020,1,1) }, class:"form-control d-inline-block col-md-2 col-xs-2" %>
  <br />
  <%= f.label :priority, class:"mt-4" %>
  <%= f.select :priority,[["高", 1], ["中", 2], ["低", 3]], {}, class:"form-control" %>

  <%= f.fields_for :labels do |label_f| %>
    <%= label_f.collection_check_boxes :label_ids, @labels, :id, :name, include_hidden: false do |b| %>
      <%= b.label { b.check_box + b.name } %>
    <% end %>
  <% end %>
  <br />
  <%= f.submit class:"mt-4 btn btn-primary" %>
<% end %>
